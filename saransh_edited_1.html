<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Parking System</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            padding: 0;
            scroll-behavior: smooth;
        }

        .card {
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        }

        .card-header {
            background-color: #000;
            color: #fff;
        }

        .card-title {
            margin-bottom: 0;
        }

        .top-section {
            max-width: 70%;
            text-align: center;
            margin: auto;
            margin-top: 100px; /* Adjusted for fixed navbar */
        }

        img {
            max-width: 100%;
        }

        .drive-mode {
            background-image: url('https://thumbs.dreamstime.com/b/parking-lot-stone-tiles-floor-white-line-paint-area-black-yellow-rubber-stopper-162032756.jpg');
            background-size: cover;
            background-position: top center;
            display: block;
            min-height: 400px;
            height: calc(100vh - 75px);
            overflow: hidden;
        }

        .img-car-moving {
            position: relative;
            transition: transform 200ms linear;
            display: inline-block;
            max-width: 50vw;
        }

        .front-wheel,
        .back-wheel {
            position: absolute;
            transform: scale(1.02);
            max-width: 21%;
            transition: transform 200ms linear;
        }

        .front-wheel {
            left: 10%;
            bottom: 41%;
            /* mix-blend-mode: color; */
        }

        .back-wheel {
            right: 10.5%;
            bottom: 42%;
            /* mix-blend-mode: color; */
        }


        .car-view {
            min-height: 70vh;
            display: grid;
            place-items: center;
            position: relative;
        }

        .cover {
            position: relative;
            background-image: url('image/park.jpg');
            background-size: cover;
            background-position: center;
            height: 100vh;
        }

        .input-box {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 20px;
            border-radius: 8px;
            width: 300px;
        }

        .btn-remove {
            background-color: red;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
            cursor: pointer;
        }

        .btn-remove:hover {
            background-color: darkred;
        }

        .footer {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 20px 0;
            position: relative;
            bottom: 0;
            width: 100%;
        }

        .make-payment-btn {
            margin-top: 10px;
            background-color: #28a745;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }

        .make-payment-btn:hover {
            background-color: #218838;
        }

        /* Additional Styles for Sections */
        section {
            padding: 60px 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 40px;
        }

        .navbar-nav .nav-link {
            margin-left: 15px;
        }

        @media (max-width: 991.98px) {
            .navbar-nav {
                text-align: center;
            }

            .navbar-nav .nav-link {
                margin-left: 0;
                padding: 10px;
            }

            .input-box {
                width: 90%;
                left: 5%;
            }
        }

        /* Drive Mode Animations */
        .drive-mode .img-car-moving img {
            display: block;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">SMART PARKING SYSTEM</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="login.html">login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="login.html">Signup</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#services">Services</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Introduction Section -->
    <section id="home" class="top-section">
        <h1>Welcome to our Smart Parking Lot!!</h1>
        <p>Park your Vehicle here under our surveillance</p>
    </section>

    <!-- Animated Car Scroll Section -->
    <section class="drive-mode">
        <div class="container">
            <div class="content-box text-center text-white">
                <h2>Equipped for Every Terrain</h2>
                <p>
                    Our smart parking system ensures smooth entry and exit for your vehicle, regardless of terrain or conditions.
                </p>
            </div>
        </div>
        <div class="car-view">
            <div class="img-car-moving">
                <img class="img-fluid" src="car-removebg-preview.png" alt="car img">
                <img class="front-wheel" src="wheel-removebg-preview.png" alt="front-wheel img">
                <img class="back-wheel" src="wheel-removebg-preview.png" alt="back-wheel img">
            </div>
        </div>
    </section>

    <!-- Smart Parking System Form and Table -->
    <section id="parking" class="container" style="margin-top: 50px;">
        <div class="row">
            <!-- Parking Entry Form -->
            <div class="col-lg-4 col-md-4 col-sm-12 col-12 mb-4">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title"><b>Add Parking Entry</b></h5>
                    </div>
                    <div class="card-body">
                        <form id="entryForm">
                            <div class="mb-3">
                                <label for="owner" class="form-label">Car Owner/Driver:</label>
                                <input type="text" class="form-control" id="owner" required>
                            </div>
                            <div class="mb-3">
                                <label for="car" class="form-label">Car Brand/Model/Color:</label>
                                <input type="text" class="form-control" id="car" required>
                            </div>
                            <div class="mb-3">
                                <label for="licensePlate" class="form-label">License Plate:</label>
                                <input type="text" class="form-control" id="licensePlate" required>
                            </div>
                            <button type="submit" class="btn btn-primary">SCAN</button>
                            <button type="submit" class="btn btn-primary">PARK</button>
                        </form>
                    </div>
                </div>
            </div>
            <!-- Parking Lot Table -->
            <div class="col-lg-8 col-md-8 col-sm-12 col-12">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title"><b>Parking Lot</b></h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <div class="input-group">
                                <input type="text" class="form-control" id="searchInput" placeholder="Search by Car Owner/Driver">
                                <button class="btn btn-primary" type="button" id="searchBtn">Search</button>
                            </div>
                        </div>
                        <table class="table table-hover mt-4">
                            <thead>
                                <tr>
                                    <th scope="col">Car Owner/Driver</th>
                                    <th scope="col">Car Brand/Model/Color</th>
                                    <th scope="col">License Plate</th>
                                    <th scope="col">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="tableBody">
                                <!-- Data will be dynamically populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="bg-light">
        <div class="container">
            <h2 class="section-title">About Us</h2>
            <p>
                Our Smart Parking System leverages cutting-edge technology to provide seamless parking experiences. With real-time slot availability, secure surveillance, and user-friendly interfaces, we aim to make parking hassle-free for everyone.
            </p>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services">
        <div class="container">
            <h2 class="section-title">Our Services</h2>
            <div class="row">
                <div class="col-md-4">
                    <h4>Real-Time Availability</h4>
                    <p>Check parking slot availability in real-time to save time and reduce stress.</p>
                </div>
                <div class="col-md-4">
                    <h4>Secure Surveillance</h4>
                    <p>Our parking areas are monitored 24/7 to ensure the safety of your vehicle.</p>
                </div>
                <div class="col-md-4">
                    <h4>Easy Payment</h4>
                    <p>Make hassle-free payments through our integrated payment gateway.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="bg-light">
        <div class="container">
            <h2 class="section-title">Contact Us</h2>
            <form>
                <div class="mb-3">
                    <label for="contactName" class="form-label">Full Name</label>
                    <input type="text" class="form-control" id="contactName" required>
                </div>
                <div class="mb-3">
                    <label for="contactEmail" class="form-label">Email Address</label>
                    <input type="email" class="form-control" id="contactEmail" required>
                </div>
                <div class="mb-3">
                    <label for="contactMessage" class="form-label">Message</label>
                    <textarea class="form-control" id="contactMessage" rows="4" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Send Message</button>
            </form>
        </div>
    </section>

    <!-- Footer with Make Payment Button -->
    <div class="footer">
        <p>Â© 2024 Smart Parking System</p>
        <button class="make-payment-btn" id="payment-btn">Make Payment</button>
    </div>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        // Simulated data for initial parking entries
        const parkingEntries = [
            { owner: "Bereket Melkamu", car: "Toyota Camry/Black", licensePlate: "ABC123" },
            { owner: "Tsion Adane", car: "Honda Accord/White", licensePlate: "XYZ789" },
            { owner: "Ruth Fisseha", car: "Ford Mustang/Red", licensePlate: "DEF456" }
        ];

        // Function to add a parking entry to the table
        function addEntryToTable(entry) {
            const tableBody = document.getElementById("tableBody");
            const newRow = document.createElement("tr");
            newRow.innerHTML = `
                <td>${entry.owner}</td>
                <td>${entry.car}</td>
                <td>${entry.licensePlate}</td>
                <td>
                    <button class="btn btn-danger btn-sm delete-btn">Delete</button>
                </td>
            `;
            tableBody.appendChild(newRow);

            // Add event listener to the delete button
            newRow.querySelector('.delete-btn').addEventListener('click', function () {
                tableBody.removeChild(newRow);
            });
        }

        // Function to populate initial parking entries
        function populateInitialEntries() {
            parkingEntries.forEach(entry => addEntryToTable(entry));
        }

        // Function to handle form submission
        function handleFormSubmit() {
            const entryForm = document.getElementById("entryForm");
            entryForm.addEventListener("submit", function (event) {
                event.preventDefault();

                const owner = document.getElementById("owner").value.trim();
                const car = document.getElementById("car").value.trim();
                const licensePlate = document.getElementById("licensePlate").value.trim();

                if (owner && car && licensePlate) {
                    const newEntry = { owner, car, licensePlate };
                    addEntryToTable(newEntry);
                    entryForm.reset();
                } else {
                    alert('Please fill out all fields.');
                }
            });
        }

        // Function to handle search
        function handleSearch() {
            const searchBtn = document.getElementById("searchBtn");
            const searchInput = document.getElementById("searchInput");
            const tableBody = document.getElementById("tableBody");
            const rows = tableBody.getElementsByTagName("tr");

            searchBtn.addEventListener("click", function () {
                const query = searchInput.value.toLowerCase();
                for (let row of rows) {
                    const owner = row.cells[0].textContent.toLowerCase();
                    if (owner.includes(query)) {
                        row.style.display = "";
                    } else {
                        row.style.display = "none";
                    }
                }
            });

            // Optional: Enable search on Enter key
            searchInput.addEventListener("keyup", function (event) {
                if (event.key === "Enter") {
                    searchBtn.click();
                }
            });
        }

        // Function to initialize all functionalities
        function init() {
            populateInitialEntries();
            handleFormSubmit();
            handleSearch();
        }

        // Execute initialization on DOMContentLoaded
        document.addEventListener("DOMContentLoaded", init);

        // Animated Car Scroll Functionality
        $(window).on('scroll resize', function () {
            inViewport();
        });

        function inViewport() {
            $(".drive-mode").each(function () {
                var divPos = $(this).offset().top,
                    topOfWindow = $(window).scrollTop(),
                    windowHeight = $(window).innerHeight(),
                    scrolled = topOfWindow - divPos,
                    wheelMove = -topOfWindow * 3;

                if (divPos - windowHeight / 2 < topOfWindow) {
                    $(this).find(".img-car-moving").css({
                        transform: `translate3d(${scrolled * -2.5}px, 0, 0)`
                    });
                    $(this).find(".back-wheel, .front-wheel").css({
                        transform: `rotate(${wheelMove}deg)`
                    });
                }

                if (divPos + windowHeight / 2 < topOfWindow) {
                    $(this).find(".img-car-moving").css({
                        transform: `translate3d(${scrolled * 2.5}px, 0, 0)`
                    });
                    $(this).find(".back-wheel, .front-wheel").css({
                        transform: `rotate(${wheelMove}deg)`
                    });
                }

                if (divPos - windowHeight / 2 > topOfWindow) {
                    $(this).find(".img-car-moving").css({
                        transform: `translate3d(${scrolled * -2.5}px, 0, 0)`
                    });
                    $(this).find(".back-wheel, .front-wheel").css({
                        transform: `rotate(${wheelMove}deg)`
                    });
                }
            });
        }

        // Redirect to qrcode.html on Make Payment button click
        document.getElementById('payment-btn').addEventListener('click', function () {
            window.location.href = 'qrnew.html';
        });
    </script>
</body>

</html>
